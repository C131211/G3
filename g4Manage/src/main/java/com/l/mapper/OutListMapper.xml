<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">




<mapper namespace="com.l.mapper.OutListMapper">
        <insert id="insOutList" parameterType="com.l.pojo.OutList">
                insert into Outlist (olId,olDate,gID,olPrice,olNum,olTotal,olDestin,olBy,olComfirm,sID,olStatus,goodName)
                 VALUES (#{olId},#{olDate},#{gID},#{olPrice},#{olNum},#{olTotal},#{olDestin},#{olBy},#{olComfirm},#{sID},#{olStatus},#{goodName})
        </insert>

    <select id="selNoDeal" parameterType="String" resultType="com.l.pojo.OutList">
            select olId, olBy,olComfirm,olStatus from outlist where olStatus = 0 and (olComfirm =#{0} or olComfirm is null or olComfirm = '') group by olId
    </select>
    
    <select id="selOutListById" parameterType="String" resultType="com.l.pojo.OutList">
        select * from outlist where olId = #{0};
    </select>

    <update id="updOutListOinion" >
        update  outlist  set olStatus =1,orderOinion=#{0} where olId=#{1}
    </update>

    <update id="updOutListOrder" parameterType="com.l.pojo.OutList">
        update outlist set orderOinion=1,olStatus = 1 where goodName=#{goodName} and olBy=#{olBy} and olDate=#{olDate} and sID=#{sID}
    </update>

    <select id="selOutListByILBy" parameterType="String" resultType="com.l.pojo.OutList">
        select * from outlist where olBy=#{0}
        and olDate &gt;= UNIX_TIMESTAMP(#{1})
        and olDate &lt; UNIX_TIMESTAMP(#{2})
        GROUP BY olId
    </select>


</mapper>
